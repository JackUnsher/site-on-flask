# Flask Web Application

Это веб-приложение на Flask для управления заявками и клиентами, разработанное для простого развертывания на Amvera Cloud.

## Структура проекта

```
├── app/                    # Директория приложения
│   ├── auth/               # Модуль аутентификации
│   ├── main/               # Основной модуль
│   ├── models/             # Модели данных
│   ├── static/             # Статические файлы (CSS, JS, изображения)
│   ├── templates/          # Шаблоны HTML
│   └── __init__.py         # Инициализация приложения
├── migrations/             # Миграции базы данных
├── .env                    # Переменные окружения для разработки
├── .gitignore              # Исключения для Git
├── amvera.yml              # Конфигурация для Amvera
├── config.py               # Конфигурация приложения
├── requirements.txt        # Зависимости проекта
└── run.py                  # Точка входа для запуска приложения
```

## Установка и запуск локально

### Предварительные требования

- Python 3.7+
- pip (менеджер пакетов Python)
- Виртуальное окружение (рекомендуется)

### Шаги по установке

1. Клонировать репозиторий:
```bash
git clone https://github.com/JackUnsher/sajt-na-flaske2.git
cd sajt-na-flaske2
```

2. Создать и активировать виртуальное окружение:
```bash
# Windows
python -m venv venv
venv\Scripts\activate

# Unix/macOS
python3 -m venv venv
source venv/bin/activate
```

3. Установить зависимости:
```bash
pip install -r requirements.txt
```

4. Инициализировать базу данных:
```bash
flask db upgrade
```

5. Запустить приложение:
```bash
flask run
```

Приложение будет доступно по адресу: http://127.0.0.1:5000

## Развертывание на Amvera Cloud

### Предварительные требования

- Аккаунт на [Amvera Cloud](https://cloud.amvera.ru)
- Репозиторий GitHub с кодом проекта

### Шаги по развертыванию

1. Войдите в свой аккаунт Amvera.
2. Создайте новое приложение, связав его с репозиторием GitHub `JackUnsher/sajt-na-flaske2`.
3. Amvera автоматически обнаружит `amvera.yml` и настроит приложение.
4. Установите необходимые переменные окружения в настройках приложения на Amvera:
   - SECRET_KEY - надежный секретный ключ
   - DATABASE_URL - URL для подключения к базе данных (если используется не SQLite)
   - LOG_TO_STDOUT - установите в 1 для логирования в stdout

## Особенности приложения

- **Аутентификация**: Регистрация и вход пользователей
- **Управление клиентами**: Добавление, редактирование и просмотр информации о клиентах
- **Управление заявками**: Создание и отслеживание заявок
- **История и статистика**: Отображение истории заявок и статистической информации

## Технический стек

- **Backend**: Flask
- **ORM**: SQLAlchemy
- **Миграции**: Flask-Migrate
- **Аутентификация**: Flask-Login
- **Формы**: Flask-WTF
- **Frontend**: HTML, CSS, JavaScript
- **WSGI сервер**: Gunicorn (для production) 